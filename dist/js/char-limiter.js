class CharLimiter{element=null;options={};DEFAULTS={limit:100,messageColor:"red",warningAt:10};constructor(t,o={}){this.element=t,this.options={...this.DEFAULTS,...o},this.options.limit=parseInt(this.options.limit),o.warningAt||(this.options.warningAt=Math.ceil(.1*this.options.limit),this.options.warningAt<5&&(this.options.warningAt=5)),this.setup()}setup(){const t=document.querySelectorAll(".char-usage__count"),o=document.querySelectorAll(".char-usage"),e=document.querySelectorAll("[data-limit]");for(let o=0;o<e.length;o++)t[o].textContent=e[o].dataset.limit;this.handleKeyUp=s=>{let i="",l="",n=0;const r=this.element.value.length;for(let t=0;t<e.length;t++)e[t]===this.element&&(n=t);let a=this.options.limit-r;t[n].textContent=a,a<=this.options.warningAt?(o[n].style.color!=this.options.messageColor&&(i=o[n].style.color,o[n].style.color=this.options.messageColor),a<=0?(e[n].style.backgroundColor!=this.options.messageColor&&(l=e[n].style.backgroundColor,e[n].style.backgroundColor=this.options.messageColor),e[n].value=this.element.value.substring(0,this.options.limit)):e[n].style.backgroundColor!=l&&(e[n].style.backgroundColor=l)):a>this.options.warningAt&&o[n].style.color!=i&&(o[n].style.color=i)},this.element.addEventListener("keyup",this.handleKeyUp)}}
//# sourceMappingURL=char-limiter.js.map